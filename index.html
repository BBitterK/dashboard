<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
<title>Dashboard</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: #000;
  color: #fff;
  font-family: "Noto Sans KR", sans-serif;
}

.container {
  display: flex;
  width: 100%;
  height: 100%;
}

/* LEFT */
.left {
  width: 35%;
  padding: 48px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.time {
  font-size: 80px;
  font-weight: 700;
}

.date {
  margin-top: 12px;
  font-size: 30px;
}

.weather {
  margin-top: 40px;
  font-size: 26px;
  opacity: 0.9;
}

/* RIGHT */
.right {
  width: 65%;
  padding: 40px;
  box-sizing: border-box;
}

.calendar-title {
  text-align: center;
  font-size: 36px;
  margin-bottom: 20px;
}

.calendar {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  grid-auto-rows: 1fr;
  gap: 14px;
  height: calc(100% - 70px);
}

.day-name {
  text-align: center;
  font-size: 20px;
  opacity: 0.7;
}

.day {
  text-align: center;
  font-size: 26px;
  padding: 16px 0;
  border-radius: 14px;
}

.today {
  background: #fff;
  color: #000;
}
</style>
</head>

<body>
<div class="container">

  <!-- LEFT -->
  <div class="left">
    <div class="time" id="time"></div>
    <div class="date" id="date"></div>
    <div class="weather" id="weather">날씨 불러오는 중…</div>
  </div>

  <!-- RIGHT -->
  <div class="right">
    <div class="calendar-title">1월</div>
    <div class="calendar" id="calendar"></div>
  </div>

</div>

<script>
/* ======================
   DATE & TIME (KOREA)
====================== */
function updateTime() {
  const now = new Date();
  document.getElementById("time").textContent =
    now.toLocaleTimeString("ko-KR", {
      hour: "2-digit",
      minute: "2-digit",
      hour12: false
    });

  document.getElementById("date").textContent =
    now.toLocaleDateString("ko-KR", {
      year: "numeric",
      month: "long",
      day: "numeric",
      weekday: "long"
    });
}
updateTime();
setInterval(updateTime, 1000);

/* ======================
   WEATHER (양재동)
   OpenWeatherMap 사용
====================== */
/*
  1) https://openweathermap.org/api
  2) API Key 발급
  3) YOUR_API_KEY 교체
*/
const API_KEY = "YOUR_API_KEY";
const LAT = 37.4703;   // 양재동 위도
const LON = 127.0396;  // 양재동 경도

fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${LAT}&lon=${LON}&units=metric&lang=kr&appid=${API_KEY}`)
  .then(res => res.json())
  .then(data => {
    const temp = Math.round(data.main.temp);
    const desc = data.weather[0].description;
    document.getElementById("weather").textContent =
      `서울 서초구 양재동  ${temp}°C · ${desc}`;
  })
  .catch(() => {
    document.getElementById("weather").textContent =
      "서울 서초구 양재동 · 날씨 정보 없음";
  });

/* ======================
   JANUARY CALENDAR
====================== */
function buildJanuaryCalendar() {
  const now = new Date();
  const year = now.getFullYear();
  const month = 0; // January

  const calendar = document.getElementById("calendar");
  calendar.innerHTML = "";

  const days = ["일", "월", "화", "수", "목", "금", "토"];
  days.forEach(d => {
    const el = document.createElement("div");
    el.className = "day-name";
    el.textContent = d;
    calendar.appendChild(el);
  });

  const firstDay = new Date(year, month, 1).getDay();
  const lastDate = new Date(year, month + 1, 0).getDate();

  for (let i = 0; i < firstDay; i++) {
    calendar.appendChild(document.createElement("div"));
  }

  for (let d = 1; d <= lastDate; d++) {
    const el = document.createElement("div");
    el.className = "day";
    el.textContent = d;

    if (
      d === now.getDate() &&
      now.getMonth() === 0 &&
      now.getFullYear() === year
    ) {
      el.classList.add("today");
    }

    calendar.appendChild(el);
  }
}

buildJanuaryCalendar();
</script>
</body>
</html>
